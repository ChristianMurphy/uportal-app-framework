<frame-page app-title="User Settings"
            app-icon="fa-gears"
            white-background="true"
            class="user-settings-page">
  <md-content layout-padding>
    <div layout="column">
      <p ng-hide="kvEnabled">No settings for you to set at this time.</p>
      <h4 class="md-subhead" ng-if="kvEnabled">Reset Zone<br>
        <small>Reset various features to their default states.</small>
      </h4>
      <div ng-if="kvEnabled" layout="column" layout-align="center start">
        <!-- RESET ANNOUNCEMENTS -->
        <div layout-xs="column" layout-align-xs="center start" layout="row" layout-align="start center" ng-if="MESSAGES.announcementsEnabled">
          <md-button class="md-primary md-raised"
                     ng-click="resetAnnouncements()"
                     aria-label="reset seen announcements">
            Reset announcements
            <i class="fa fa-spin fa-circle-o" ng-if="loadingResetAnnouncements"></i>
          </md-button>
          <small>Click to see previously-dismissed mascot and popup announcements.</small>
        </div>
        <!-- RESET NOTIFICATIONS -->
        <div layout-xs="column" layout-align-xs="center start"  layout="row" layout-align="start center" ng-if="MESSAGES.notificationsEnabled">
          <md-button class="md-accent md-raised"
                     ng-click="resetKey(KV_KEYS.VIEWED_MESSAGE_IDS,'VIEWED_MESSAGE_IDS')"
                     aria-label="reset dismissed notifications">
            Reset notifications
            <i class="fa fa-spin fa-circle-o" ng-if='VIEWED_MESSAGE_IDS'></i>
          </md-button>
          <small>Click to see previously-dismissed notifications.</small>
        </div>
        <!-- RESET LAYOUT -->
        <div layout-xs="column" layout-align-xs="center start"  layout="row" layout-align="start center" ng-if="MISC_URLS.resetLayoutURL">
          <md-button class="md-warn md-raised"
                     ng-href="{{MISC_URLS.resetLayoutURL}}"
                     aria-label="reset layout">
            Reset layout
          </md-button>
          <small>Click to reset your portal layout.</small>
        </div>
      </div>
      <div ng-show="optAvatar" layout="column" layout-gt-xs="row" layout-align="start center">
          <md-button class="md-accent md-raised" layout-align-xs="center start"   ng-click="avatarOptOut()">
            Do Not Use My Photo
          </md-button>
          <small>Requires page refresh to take effect.</small>
        </div>
      <div ng-show="!optAvatar" layout-align-xs="center start" layout="column" layout-align="start center" layout-gt-xs="row">
          <md-button class="md-accent md-raised" ng-click="avatarOptIn()">
            Use My Photo
          </md-button>
          <small>Requires page refresh to take effect.</small>
        </div>
    </div>
  </md-content>
</frame-page>
